name: Manual Work Flow For Development

env:
    APP_LOCATION: "/src/view/blazor"
    OUTPUT_LOCATION: "build"

on:
    workflow_dispatch:
        inputs:
            name:
                description: 'Nme'
                type: 'string'
                default: 'test'

permissions:
    issues: write
    contents: write
    pull-requests: write

jobs:
  build-and-deploy:
    # if: github.event_name == 'push' || (github.event_name == 'pull_request' && github.event.action != 'closed')
    runs-on: ubuntu-latest
    name: Build and Deploy
    steps:
      - run: echo "We actually did something"
      - run: echo "${{inputs.name}}"
      - run: echo "${{ secrets.GITHUB_TOKEN}}"
      - run: echo "${{ secrets.AZURE_STATIC_WEB_APPS_API_TOKEN}}"
      - run: echo "${{ env.APP_LOCATION}}"
      - run: echo "Artifact location ${{ env.OUTPUT_LOCATION }}"
      - uses: actions/checkout@v4
        with:
            submodules: true
      - name: Build and Deploy
        uses: Azure/static-web-apps-deploy@1a947af9992250f3bc2e68ad0754c0b0c11566c9
        with:
            azure_static_web_apps_api_token: ${{ secrets.AZURE_STATIC_WEB_APPS_API_TOKEN}}"
            repo_token: ${{secrets.GITHUB_TOKEN }}
            action: "upload"
            app_location: ${{env.APP_LOCATION}}
            output_location: ${{env.OUTPUT_LOCATION}} 
            


    # steps:
    #   - name: Checkout code
    #     uses: actions/checkout@v4
    #     with:
    #       repository: Lendingtracker
    #       ref: main

    #   - name: Setup .Net
    #     uses: actions/setup-dotnet@v4.1.0
    #     with:
    #       dotnet-version: '9.0'

    #   - name: Restore dependencies
    #     run: dotnet restore

    #   - name: Build DotNet
    #     uses: Elskom/build-dotnet@main
    #     with:
    #       SOLUTION_FILE_PATH: /src/view/blazor/LendingView.sln
